<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- 分配帐号对话框 -->
	<div th:replace="thymeleaf/common/_dispatch_account_dialog::dialog"
		class="header"></div>
	<!-- 签约客户列表 -->
	<div class="row clearfix">
		<div class="col-md-12 column">


			<!-- 工具栏 -->
			<div class="row clearfix">
				<div class="col-md-12 column">
					<br>
					<h4 style="display: inline">
						<i class="icon-user" style="color: green"></i>签约客户维护
					</h4>
					<a th:href="@{/back/agent/add}" title="增加签约客户" target="_blank"
						style="float: right; margin-right: 100px;"><i
						class="icon-plus-sign icon-large"></i></a> <a
						th:href="@{/back/agent/show}" title="刷新列表"
						style="float: right; margin-right: 10px"><i
						class="icon-refresh icon-large"></i></a>
					<hr>
				</div>
			</div>
			<table class="table">
				<thead>
					<tr>
						<th>企业名称</th>
						<th>企业负责人</th>
						<th>手机号码</th>
						<th>帐号</th>
						<th>状态</th>
						<th>有效性</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="agent:${userAgents}">
						<td th:text="${agent.companyName}">北京XXX科技有限责任公司</td>
						<td th:text="${agent.artificialPersonName}">张XX</td>
						<td th:text="${agent.contactPhone}">138xxxxxxxx</td>
						<span th:switch="${agent.userId}" th:remove="tag">
							<td th:case="0"><i class="icon-magic"></i>未分配</td>
							<td th:case="*"><i class="icon-user"></i>已分配</td>
						</span>
						<span th:switch="${agent.accountState}" th:remove="tag">
							<td th:case="'1'" style="color:green;">有效</td>
							<td th:case="'2'" style="color:red;">无效</td>
						</span>

						<td>
							<button type="button" th:attr="data-bind=${agent.extendId},data-user-id=${agent.userId},data-account-state=${agent.accountState}" 
								class="btn btn-success set-valid" title="设置此帐号有效">有效</button>
							<button type="button" th:attr="data-bind=${agent.extendId},data-user-id=${agent.userId},data-account-state=${agent.accountState}"
								class="btn btn-warning set-invalid" title="设置此帐号无效">无效</button>
						</td>
						<td><a type="button"
							th:href="@{/back/agent/detail/{id}(id=${agent.extendId})}"
							target="_blank" th:attr="data-bind=${agent.extendId}"
							class="show-detail" title="修改客户信息"> <i
								class="icon-edit icon-large"></i>
						</a> <a type="button"
							th:attr="data-bind=${agent.extendId},data-company-name=${agent.companyName},data-contact-phone=${agent.contactPhone},data-artificialPersonName=${agent.artificialPersonName},data-user-id=${agent.userId}"
							class="dispatch-account" title="分配帐号"> <i
								class="icon-user icon-large"></i>
						</a></td>

					</tr>

				</tbody>
			</table>
			<!-- 加入 分页 -->
			<div class="row clearfix">
				<div th:include="/thymeleaf/common/_pager::pager" class="pagerx"
					style="float: right; margin-right: 100px;"></div>
			</div>
			<div class="row clearfix">
				<hr>
			</div>

		</div>
	</div>

	
	<script type="text/javascript" th:src="@{/static/js/user_agent/user_agent.js}"></script>
</body>
</html>